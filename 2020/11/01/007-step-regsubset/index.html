
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="데이터 바다의 요요누">
    <title>Stepwise Selection과 Regsubset - 데이터 바다의 요요누</title>
    <meta name="author" content="요요누">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"요요누","sameAs":["https://twitter.com/ioio5252","mailto:nokoquest@gmail.com"],"image":"https://www.gravatar.com/avatar/53a44964d8c6364753659fb504afd5e3"},"articleBody":"회귀모형에서의 변수 선택을 간단히 다루어 보자.\n변수 선택하기 - Stepwise Selection, regsubsetsbaseball 데이터에는 야수 337명에 대한 27가지의 스탯과 연봉이 나타나 있다. 스탯은 1991년도 기준이고, 연봉은 1992년도에 책정된 값이다. (데이터)\n스탯의 변수명\n\n\n\naverage\nOBP\nruns\nhits\ndoubles\ntriples\nhomeruns\n\n\n\n\n타율\n출루율\n득점\n안타\n2루타\n3루타\n홈런\n\n\nSBs\nRBIs\nwalks\nSOs\nerrors\nfreeagent\narbitration\n\n\n도루\n타점\n볼넷\n삼진\n실책\nFA\n연봉조정\n\n\n\n\n\nruns/SOs, hits/SOs , RBIs/SOs , walks/SOs   \nOBP/errors,  runs/errors , hits/errors,  homeruns/errors \nSOs*errors,  SBs*OBP,  SBs*runs,  SBs*hits  \n\n연봉을 반응변수로 삼아 회귀 모형을 만들어 보자. 이를 Full Model, 또는 Saturated Model이라 한다. 다중 회귀 모형에는 관행적으로 변수 선택을 진행한다. 줄여진 모형은 Reduced Model이라 한다. AIC를 기준으로 변수를 줄이는 방법을 두 가지 살펴보겠다.\n\nStepwise SelectionStepwise Selection 알고리즘은 변수를 하나씩 제거하거나 추가하면서 각 경우의 AIC를 비교하고, 개중 가장 낮은 값을 갖는 모형을 찾는다. \n\nBackward Selection: 모든 변수를 가진 saturated model에서 변수를 하나씩 소거해 나간다. 제거 후에 AIC가 작아졌다면 제거된 모형을 채택하고 더 이상 AIC가 나아지지 않을 때까지 같은 작업을 반복한다. \nForward Selection: 반대로 상수만 지닌 reduced model에서 변수를 하나씩 추가하는 방식이다.\n“Both”: 두 가지를 절충하여 추가와 제거를 반복하고자 하는 경우, (R 기준) both 인자를 넣는다.\n\n각 방식을 적용한 결과는 다음과 같이 나타났다.\n\n\n\n\n\n채택  변수 수\n최종 AIC\n\n\n\n\nBackward\n12\n-418.9421\n\n\nForward\n27\n-396.706\n\n\nBoth\n12\n-418.9421\n\n\n\n\n\nForward는 전체 설명변수를 모두 가져왔다. \n\nBoth와 Backward에서는 동일한 모형이 채택되었다. \n이 때 선택된 변수는 다음과 같다: 타율(-), 득점(+), 삼루타(-), 타점(+), 삼진(-), FA(+), 연봉조정(+), 득점/삼진(-), 안타/삼진(+), 삼진x실책(-), 도루x출루율(+), 도루x득점(-).\n\n\n\nregsubsetsregsubsets 알고리즘은 고정된 변수 개수에 맞추어 최적 모형을 도출한다. \n12345678910111213141516171819regsub.AIC.ftn = function(j)&#123;  model.row = regsub.baseball$which[j,]  model.exp = &#x27;lm( log(salary) ~ &#x27;    for (i in 2:28)&#123;    if (model.row[i] == TRUE)&#123;      var.name = names(model.row)[i]      model.exp = paste(model.exp, &quot; + &quot;, var.name)    &#125;  &#125;  model.exp = paste(model.exp,&quot;, data = df.baseball)&quot;)  result = eval(parse(text = model.exp))  if(j &lt; 14)&#123;    varnames = paste(names(model.row)[model.row], collapse = &#x27; &#x27;)  &#125; else varnames = paste(&#x27;-&#x27;, names(model.row)[!model.row], collapse = &#x27; &#x27;)    return(c(AIC = extractAIC(result)[2],            var = varnames))&#125;\np = 1에서 27까지의 최적 Subsets는 아래의 표에 나타내었다. 개중 AIC가 가장 작은 모형은 p = 12에서 얻을 수 있었다.\n\n\n\n\np\nAIC\nFeatures Selected\n\n\n\n\n1\n-86.20355\nhits\n\n\n2\n-236.91899\nfreeagent arbitration\n\n\n3\n-382.08585\nrbis freeagent arbitration\n\n\n4\n-397.06152\nhits rbis freeagent arbitration\n\n\n5\n-406.00412\nhits rbis freeagent arbitration soserrors\n\n\n6\n-410.43729\nruns rbis sos freeagent arbitration runsperso\n\n\n7\n-413.72379\nruns rbis sos freeagent arbitration runsperso hitsperso\n\n\n8\n-416.30347\nruns rbis sos freeagent arbitration obppererror runspererror hitspererror\n\n\n9\n-416.42493\nruns rbis sos freeagent arbitration obppererror runspererror hitspererror soserrors\n\n\n10\n-417.47395\nruns rbis sos freeagent arbitration runsperso hitsperso soserrors sbsobp sbsruns\n\n\n11\n-418.45106\naverage runs rbis sos freeagent arbitration runsperso hitsperso soserrors sbsobp sbsruns\n\n\n12\n-418.94721\nobp runs triples rbis sos freeagent arbitration runsperso hitsperso soserrors sbsobp sbsruns\n\n\n13\n-418.09221\naverage runs triples rbis sos freeagent arbitration runsperso hitsperso hrsperso soserrors sbsobp sbsruns\n\n\n14\n-417.20098\n- average - hits - doubles - homeruns - sbs - errors - rbisperso - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits\n\n\n15\n-416.22752\n- average - hits - doubles - homeruns - sbs - errors - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits\n\n\n16\n-415.45316\n- average - doubles - walks - sbs - errors - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits\n\n\n17\n-414.01172\n- average - doubles - sbs - errors - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits\n\n\n18\n-413.16254\n- average - doubles - walks - sbs - walksperso - runspererror - hrspererror - soserrors - sbshits\n\n\n19\n-411.53320\n- average - doubles - sbs - walksperso - runspererror - hrspererror - soserrors - sbshits\n\n\n20\n-410.00084\n- obp - doubles - sbs - runspererror - hrspererror - soserrors - sbshits\n\n\n21\n-408.22846\n- obp - doubles - sbs - errors - hrspererror - sbshits\n\n\n22\n-406.42133\n- obp - sbs - errors - hrspererror - sbshits\n\n\n23\n-404.56810\n- obp - sbs - errors - sbshits\n\n\n24\n-402.63184\n- obp - errors - sbshits\n\n\n25\n-400.66945\n- errors - sbshits\n\n\n26\n-398.69257\n- sbshits\n\n\n27\n-396.70603\n-\n\n\n\n\n최적의 모형인 p = 12에서 선택된 변수는 출루율(-), 득점(+), 삼루타(-), 타점(+), FA(+), 연봉조정(+), 득점삼진비(-), 안타삼진비(+), 도루x실책(-), 도루x출루율(+), 도루x득점(-)이다.\n양쪽 결과가 비슷하게 나타났다. 문장으로 풀어 쓴다면 안타가 많고 타율이 좋은 타자는 오히려 낮은 연봉을 받는다고 해석할 수 있다. 이는 높은 연봉이 책정되는 홈런 타자들에게 영향을 받은 결과로 보인다. (3루타의 경우, 장타력뿐만 아니라 상당한 주력이 함께 뒷받침되어야 하는 데다 부상의 위험이 따르므로 대부분의 거포형 선수와 베테랑 선수들은 2루에서 멈추게 된다.) 큰 폭으로 연봉이 상승하게 되는 FA 전환 여부 또한 모형에 주는 영향이 크다. 연봉 조정 역시 같은 맥락에서 해석할 수 있을 것이다.\n\n* ScopeR에서 step함수를 사용한다면 변수의 범위를 지정할 수 있다.\n123step(model, direction = [&#x27;forward&#x27;,&#x27;backward&#x27;],                    scope = list(upper = y ~ .,                                lower = y ~ x1 + x2 + x3 + x4 + x5))\n","dateCreated":"2020-11-01T10:08:18+09:00","dateModified":"2020-11-02T09:21:08+09:00","datePublished":"2020-11-01T10:08:18+09:00","description":"","headline":"Stepwise Selection과 Regsubset","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"},"publisher":{"@type":"Organization","name":"요요누","sameAs":["https://twitter.com/ioio5252","mailto:nokoquest@gmail.com"],"image":"https://www.gravatar.com/avatar/53a44964d8c6364753659fb504afd5e3","logo":{"@type":"ImageObject","url":"https://www.gravatar.com/avatar/53a44964d8c6364753659fb504afd5e3"}},"url":"http://ioio-noo.github.io/2020/11/01/007-step-regsubset/","keywords":"Data Science"}</script>
    <meta name="description" content="회귀모형에서의 변수 선택을 간단히 다루어 보자. 변수 선택하기 - Stepwise Selection, regsubsetsbaseball 데이터에는 야수 337명에 대한 27가지의 스탯과 연봉이 나타나 있다. 스탯은 1991년도 기준이고, 연봉은 1992년도에 책정된 값이다. (데이터) 스탯의 변수명    average OBP runs hits doubles">
<meta property="og:type" content="blog">
<meta property="og:title" content="Stepwise Selection과 Regsubset">
<meta property="og:url" content="http://ioio-noo.github.io/2020/11/01/007-step-regsubset/index.html">
<meta property="og:site_name" content="데이터 바다의 요요누">
<meta property="og:description" content="회귀모형에서의 변수 선택을 간단히 다루어 보자. 변수 선택하기 - Stepwise Selection, regsubsetsbaseball 데이터에는 야수 337명에 대한 27가지의 스탯과 연봉이 나타나 있다. 스탯은 1991년도 기준이고, 연봉은 1992년도에 책정된 값이다. (데이터) 스탯의 변수명    average OBP runs hits doubles">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-11-01T01:08:18.000Z">
<meta property="article:modified_time" content="2020-11-02T00:21:08.517Z">
<meta property="article:author" content="요요누">
<meta property="article:tag" content="Data Science">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@ioio5252">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-px2s2dmgq0f4j3xagcy8lzm4f6eytwcemxmbql8hldgpst8ewn6yboiat4zn.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            데이터 바다의 요요누
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/ioio5252"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:nokoquest@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Stepwise Selection과 Regsubset
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-11-01T10:08:18+09:00">
	
		    Nov 01, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Data-Science/">Data Science</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>회귀모형에서의 변수 선택을 간단히 다루어 보자.</p>
<h2 id="변수-선택하기-Stepwise-Selection-regsubsets"><a href="#변수-선택하기-Stepwise-Selection-regsubsets" class="headerlink" title="변수 선택하기 - Stepwise Selection, regsubsets"></a>변수 선택하기 - Stepwise Selection, regsubsets</h2><p>baseball 데이터에는 야수 337명에 대한 27가지의 스탯과 연봉이 나타나 있다. 스탯은 1991년도 기준이고, 연봉은 1992년도에 책정된 값이다. (<a target="_blank" rel="noopener" href="https://www.stat.colostate.edu/computationalstatistics/datasets.zip">데이터</a>)</p>
<h4 id="스탯의-변수명"><a href="#스탯의-변수명" class="headerlink" title="스탯의 변수명"></a>스탯의 변수명</h4><div class="table-container">
<table>
<thead>
<tr>
<th><strong>average</strong></th>
<th><strong>OBP</strong></th>
<th><strong>runs</strong></th>
<th><strong>hits</strong></th>
<th><strong>doubles</strong></th>
<th><strong>triples</strong></th>
<th><strong>homeruns</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>타율</strong></td>
<td>출루율</td>
<td>득점</td>
<td>안타</td>
<td>2루타</td>
<td>3루타</td>
<td>홈런</td>
</tr>
<tr>
<td><strong>SBs</strong></td>
<td><strong>RBIs</strong></td>
<td><strong>walks</strong></td>
<td><strong>SOs</strong></td>
<td><strong>errors</strong></td>
<td><strong>freeagent</strong></td>
<td><strong>arbitration</strong></td>
</tr>
<tr>
<td><strong>도루</strong></td>
<td>타점</td>
<td>볼넷</td>
<td>삼진</td>
<td>실책</td>
<td>FA</td>
<td>연봉조정</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><strong>runs/SOs</strong>, <strong>hits/SOs</strong> , <strong>RBIs/SOs</strong> , <strong>walks/SOs</strong>   </li>
<li><strong>OBP/errors</strong>,  <strong>runs/errors</strong> , <strong>hits/errors</strong>,  <strong>homeruns/errors</strong> </li>
<li><strong>SOs*errors,</strong>  <strong>SBs*OBP</strong>,  <strong>SBs*runs</strong>,  <strong>SBs*hits</strong>  </li>
</ul>
<p>연봉을 반응변수로 삼아 회귀 모형을 만들어 보자. 이를 Full Model, 또는 <strong>Saturated Model</strong>이라 한다. 다중 회귀 모형에는 관행적으로 변수 선택을 진행한다. 줄여진 모형은 <strong>Reduced Model</strong>이라 한다. AIC를 기준으로 변수를 줄이는 방법을 두 가지 살펴보겠다.</p>
<hr>
<h3 id="Stepwise-Selection"><a href="#Stepwise-Selection" class="headerlink" title="Stepwise Selection"></a>Stepwise Selection</h3><p>Stepwise Selection 알고리즘은 변수를 하나씩 제거하거나 추가하면서 각 경우의 AIC를 비교하고, 개중 가장 낮은 값을 갖는 모형을 찾는다. </p>
<ul>
<li><strong>Backward Selection</strong>: 모든 변수를 가진 saturated model에서 변수를 하나씩 소거해 나간다. 제거 후에 AIC가 작아졌다면 제거된 모형을 채택하고 더 이상 AIC가 나아지지 않을 때까지 같은 작업을 반복한다. </li>
<li><strong>Forward Selection</strong>: 반대로 상수만 지닌 reduced model에서 변수를 하나씩 추가하는 방식이다.</li>
<li><strong>“Both”</strong>: 두 가지를 절충하여 추가와 제거를 반복하고자 하는 경우, (R 기준) both 인자를 넣는다.</li>
</ul>
<p>각 방식을 적용한 결과는 다음과 같이 나타났다.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>채택  변수 수</strong></th>
<th><strong>최종 AIC</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Backward</strong></td>
<td>12</td>
<td>-418.9421</td>
</tr>
<tr>
<td><strong>Forward</strong></td>
<td>27</td>
<td>-396.706</td>
</tr>
<tr>
<td><strong>Both</strong></td>
<td>12</td>
<td>-418.9421</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>Forward는 전체 설명변수를 모두 가져왔다. </p>
</li>
<li><p>Both와 Backward에서는 동일한 모형이 채택되었다. </p>
<p>이 때 선택된 변수는 다음과 같다: 타율(-), 득점(+), 삼루타(-), 타점(+), 삼진(-), FA(+), 연봉조정(+), 득점/삼진(-), 안타/삼진(+), 삼진x실책(-), 도루x출루율(+), 도루x득점(-).</p>
</li>
</ul>
<hr>
<h3 id="regsubsets"><a href="#regsubsets" class="headerlink" title="regsubsets"></a>regsubsets</h3><p>regsubsets 알고리즘은 고정된 변수 개수에 맞추어 최적 모형을 도출한다. </p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">regsub.AIC.ftn = <span class="keyword">function</span>(j)&#123;</span><br><span class="line">  model.row = regsub.baseball$which[j,]</span><br><span class="line">  model.exp = <span class="string">&#x27;lm( log(salary) ~ &#x27;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">2</span>:<span class="number">28</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (model.row[i] == <span class="literal">TRUE</span>)&#123;</span><br><span class="line">      var.name = <span class="built_in">names</span>(model.row)[i]</span><br><span class="line">      model.exp = paste(model.exp, <span class="string">&quot; + &quot;</span>, var.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  model.exp = paste(model.exp,<span class="string">&quot;, data = df.baseball)&quot;</span>)</span><br><span class="line">  result = eval(parse(text = model.exp))</span><br><span class="line">  <span class="keyword">if</span>(j &lt; <span class="number">14</span>)&#123;</span><br><span class="line">    varnames = paste(<span class="built_in">names</span>(model.row)[model.row], collapse = <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> varnames = paste(<span class="string">&#x27;-&#x27;</span>, <span class="built_in">names</span>(model.row)[!model.row], collapse = <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">return</span>(<span class="built_in">c</span>(AIC = extractAIC(result)[<span class="number">2</span>], </span><br><span class="line">           var = varnames))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>p = 1에서 27까지의 최적 Subsets는 아래의 표에 나타내었다. 개중 AIC가 가장 작은 모형은 p = 12에서 얻을 수 있었다.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>p</th>
<th>AIC</th>
<th>Features Selected</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>-86.20355</td>
<td>hits</td>
</tr>
<tr>
<td>2</td>
<td>-236.91899</td>
<td>freeagent arbitration</td>
</tr>
<tr>
<td>3</td>
<td>-382.08585</td>
<td>rbis freeagent arbitration</td>
</tr>
<tr>
<td>4</td>
<td>-397.06152</td>
<td>hits rbis freeagent arbitration</td>
</tr>
<tr>
<td>5</td>
<td>-406.00412</td>
<td>hits rbis freeagent arbitration soserrors</td>
</tr>
<tr>
<td>6</td>
<td>-410.43729</td>
<td>runs rbis sos freeagent arbitration runsperso</td>
</tr>
<tr>
<td>7</td>
<td>-413.72379</td>
<td>runs rbis sos freeagent arbitration runsperso hitsperso</td>
</tr>
<tr>
<td>8</td>
<td>-416.30347</td>
<td>runs rbis sos freeagent arbitration obppererror runspererror hitspererror</td>
</tr>
<tr>
<td>9</td>
<td>-416.42493</td>
<td>runs rbis sos freeagent arbitration obppererror runspererror hitspererror soserrors</td>
</tr>
<tr>
<td>10</td>
<td>-417.47395</td>
<td>runs rbis sos freeagent arbitration runsperso hitsperso soserrors sbsobp sbsruns</td>
</tr>
<tr>
<td>11</td>
<td>-418.45106</td>
<td>average runs rbis sos freeagent arbitration runsperso hitsperso soserrors sbsobp sbsruns</td>
</tr>
<tr>
<td>12</td>
<td>-418.94721</td>
<td>obp runs triples rbis sos freeagent arbitration runsperso hitsperso soserrors sbsobp sbsruns</td>
</tr>
<tr>
<td>13</td>
<td>-418.09221</td>
<td>average runs triples rbis sos freeagent arbitration runsperso hitsperso hrsperso soserrors sbsobp sbsruns</td>
</tr>
<tr>
<td>14</td>
<td>-417.20098</td>
<td>- average - hits - doubles - homeruns - sbs - errors - rbisperso - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits</td>
</tr>
<tr>
<td>15</td>
<td>-416.22752</td>
<td>- average - hits - doubles - homeruns - sbs - errors - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits</td>
</tr>
<tr>
<td>16</td>
<td>-415.45316</td>
<td>- average - doubles - walks - sbs - errors - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits</td>
</tr>
<tr>
<td>17</td>
<td>-414.01172</td>
<td>- average - doubles - sbs - errors - walksperso - obppererror - runspererror - hitspererror - hrspererror - sbshits</td>
</tr>
<tr>
<td>18</td>
<td>-413.16254</td>
<td>- average - doubles - walks - sbs - walksperso - runspererror - hrspererror - soserrors - sbshits</td>
</tr>
<tr>
<td>19</td>
<td>-411.53320</td>
<td>- average - doubles - sbs - walksperso - runspererror - hrspererror - soserrors - sbshits</td>
</tr>
<tr>
<td>20</td>
<td>-410.00084</td>
<td>- obp - doubles - sbs - runspererror - hrspererror - soserrors - sbshits</td>
</tr>
<tr>
<td>21</td>
<td>-408.22846</td>
<td>- obp - doubles - sbs - errors - hrspererror - sbshits</td>
</tr>
<tr>
<td>22</td>
<td>-406.42133</td>
<td>- obp - sbs - errors - hrspererror - sbshits</td>
</tr>
<tr>
<td>23</td>
<td>-404.56810</td>
<td>- obp - sbs - errors - sbshits</td>
</tr>
<tr>
<td>24</td>
<td>-402.63184</td>
<td>- obp - errors - sbshits</td>
</tr>
<tr>
<td>25</td>
<td>-400.66945</td>
<td>- errors - sbshits</td>
</tr>
<tr>
<td>26</td>
<td>-398.69257</td>
<td>- sbshits</td>
</tr>
<tr>
<td>27</td>
<td>-396.70603</td>
<td>-</td>
</tr>
</tbody>
</table>
</div>
<p>최적의 모형인 p = 12에서 선택된 변수는 출루율(-), 득점(+), 삼루타(-), 타점(+), FA(+), 연봉조정(+), 득점삼진비(-), 안타삼진비(+), 도루x실책(-), 도루x출루율(+), 도루x득점(-)이다.</p>
<p>양쪽 결과가 비슷하게 나타났다. 문장으로 풀어 쓴다면 안타가 많고 타율이 좋은 타자는 오히려 낮은 연봉을 받는다고 해석할 수 있다. 이는 높은 연봉이 책정되는 홈런 타자들에게 영향을 받은 결과로 보인다. (3루타의 경우, 장타력뿐만 아니라 상당한 주력이 함께 뒷받침되어야 하는 데다 부상의 위험이 따르므로 대부분의 거포형 선수와 베테랑 선수들은 2루에서 멈추게 된다.) 큰 폭으로 연봉이 상승하게 되는 FA 전환 여부 또한 모형에 주는 영향이 크다. 연봉 조정 역시 같은 맥락에서 해석할 수 있을 것이다.</p>
<hr>
<h3 id="Scope"><a href="#Scope" class="headerlink" title="* Scope"></a>* Scope</h3><p>R에서 step함수를 사용한다면 변수의 범위를 지정할 수 있다.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">step(model, direction = [<span class="string">&#x27;forward&#x27;</span>,<span class="string">&#x27;backward&#x27;</span>], </span><br><span class="line">                   scope = <span class="built_in">list</span>(upper = y ~ .,</span><br><span class="line">                                lower = y ~ x1 + x2 + x3 + x4 + x5))</span><br></pre></td></tr></table></figure>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Data-Science/" rel="tag">Data Science</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/01/008-t-SNE/"
                    data-tooltip="차원 축소"
                    aria-label="PREVIOUS: 차원 축소"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/01/004-lift/"
                    data-tooltip="004-lift"
                    aria-label="NEXT: 004-lift"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 요요누. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/01/008-t-SNE/"
                    data-tooltip="차원 축소"
                    aria-label="PREVIOUS: 차원 축소"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/11/01/004-lift/"
                    data-tooltip="004-lift"
                    aria-label="NEXT: 004-lift"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">요요누</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Seoul, Korea
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="/assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/001-eigen/"
                            aria-label=": Eigenvalue와 Eigenvectors"
                        >
                            <h3 class="media-heading">Eigenvalue와 Eigenvectors</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/002-CF/"
                            aria-label=": Collaborative Filtering"
                        >
                            <h3 class="media-heading">Collaborative Filtering</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/003-curse-of-dimensionality/"
                            aria-label=": Reducting Feature Dimensions"
                        >
                            <h3 class="media-heading">Reducting Feature Dimensions</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/004-lift/"
                            aria-label=": 004-lift"
                        >
                            <h3 class="media-heading">004-lift</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/007-step-regsubset/"
                            aria-label=": Stepwise Selection과 Regsubset"
                        >
                            <h3 class="media-heading">Stepwise Selection과 Regsubset</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/008-t-SNE/"
                            aria-label=": 차원 축소"
                        >
                            <h3 class="media-heading">차원 축소</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/005-optimization/"
                            aria-label=": Optimization"
                        >
                            <h3 class="media-heading">Optimization</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/01/006-k-means/"
                            aria-label=": k-Means"
                        >
                            <h3 class="media-heading">k-Means</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 1, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/02/009-zero-inflated-binary/"
                            aria-label=": Zero Inflated 데이터 이진분류"
                        >
                            <h3 class="media-heading">Zero Inflated 데이터 이진분류</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 2, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="http://ioio-noo.github.io/2020/11/02/010-bc-assessments/"
                            aria-label=": Binary Classifier 평가하기"
                        >
                            <h3 class="media-heading">Binary Classifier 평가하기</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 2, 2020
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="no post found"
                data-message-one="1 post found"
                data-message-other="{n} posts found">
                10 posts found
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-imfvlo6yfzuily8hdisdck05skiiascxzbsvwzulyocp5jwvxpmauunjfpld.min.js"></script>

<!--SCRIPTS END-->


    



    
<script src="/assets/js/moment-with-locales.js"></script>

    
<script src="/assets/js/algoliasearch.js"></script>

    <script>
      var algoliaClient = algoliasearch('ZH4WKM01OT', 'f115d2b74c848b6f9d6db26e72d24a95');
      var algoliaIndex = algoliaClient.initIndex('hexo');
    </script>


    </body>
</html>
